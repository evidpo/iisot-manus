import { DocumentTemplate } from '../types';

// Интерфейсы для генерации документов
export interface DocumentField {
  id: string;
  label: string;
  type: 'text' | 'date' | 'select' | 'checkbox' | 'textarea';
  required: boolean;
  placeholder?: string;
  options?: string[]; // Для select
  defaultValue?: string | boolean;
}

export interface DocumentTemplateWithFields {
  id: string;
  name: string;
  description: string;
  category: 'instruction' | 'report' | 'order' | 'journal' | 'act';
  fields: DocumentField[];
  sections: string[];
  previewImage?: string;
}

// Шаблоны документов с полями для заполнения
export const documentTemplates: DocumentTemplateWithFields[] = [
  {
    id: 'instruction_general',
    name: 'Общая инструкция по охране труда',
    description: 'Базовый шаблон инструкции, содержащий общие требования охраны труда для всех работников',
    category: 'instruction',
    fields: [
      {
        id: 'company_name',
        label: 'Наименование организации',
        type: 'text',
        required: true,
        placeholder: 'ООО "Компания"'
      },
      {
        id: 'director_name',
        label: 'ФИО руководителя',
        type: 'text',
        required: true,
        placeholder: 'Иванов И.И.'
      },
      {
        id: 'director_position',
        label: 'Должность руководителя',
        type: 'text',
        required: true,
        placeholder: 'Генеральный директор'
      },
      {
        id: 'approval_date',
        label: 'Дата утверждения',
        type: 'date',
        required: true
      },
      {
        id: 'instruction_number',
        label: 'Номер инструкции',
        type: 'text',
        required: true,
        placeholder: 'ИОТ-001-2025'
      },
      {
        id: 'general_requirements',
        label: 'Общие требования охраны труда',
        type: 'textarea',
        required: true,
        defaultValue: '1.1. К выполнению работ допускаются лица, прошедшие обучение, инструктаж и проверку знаний по охране труда, медицинский осмотр и не имеющие противопоказаний по состоянию здоровья.\n1.2. Работник должен соблюдать правила внутреннего трудового распорядка, установленные режимы труда и отдыха.\n1.3. При выполнении работ возможно воздействие на работников следующих опасных и вредных производственных факторов...'
      },
      {
        id: 'before_work_requirements',
        label: 'Требования охраны труда перед началом работы',
        type: 'textarea',
        required: true,
        defaultValue: '2.1. Надеть спецодежду и спецобувь, предусмотренные соответствующими нормами.\n2.2. Проверить исправность оборудования и инструментов.\n2.3. Подготовить рабочее место, убрать все лишние предметы.\n2.4. Проверить наличие и исправность защитных устройств, приспособлений и инструментов, необходимых для работы.'
      },
      {
        id: 'during_work_requirements',
        label: 'Требования охраны труда во время работы',
        type: 'textarea',
        required: true,
        defaultValue: '3.1. Выполнять только ту работу, которая поручена руководителем и при условии, что известны безопасные способы ее выполнения.\n3.2. Применять необходимые для безопасной работы исправное оборудование, инструмент; использовать их только для тех работ, для которых они предназначены.\n3.3. Соблюдать правила перемещения в помещениях и на территории организации, пользоваться только установленными проходами.'
      },
      {
        id: 'emergency_requirements',
        label: 'Требования охраны труда в аварийных ситуациях',
        type: 'textarea',
        required: true,
        defaultValue: '4.1. При возникновении аварийной ситуации прекратить работу, оповестить об опасности окружающих людей, доложить непосредственному руководителю о случившемся и действовать в соответствии с планом ликвидации аварий.\n4.2. В случае возникновения пожара:\n- немедленно сообщить в пожарную охрану по телефону 01 или 112;\n- принять меры по эвакуации людей и тушению пожара первичными средствами пожаротушения;\n- при необходимости отключить электроэнергию.'
      },
      {
        id: 'after_work_requirements',
        label: 'Требования охраны труда по окончании работы',
        type: 'textarea',
        required: true,
        defaultValue: '5.1. Привести в порядок рабочее место, инструмент, оборудование.\n5.2. Снять спецодежду и спецобувь, осмотреть, привести в порядок и убрать в отведенное для хранения место.\n5.3. Вымыть руки и лицо с мылом, по возможности принять душ.\n5.4. Сообщить руководителю работ обо всех недостатках, замеченных во время работы, и принятых мерах по их устранению.'
      }
    ],
    sections: [
      'Общие требования охраны труда', 
      'Требования охраны труда перед началом работы', 
      'Требования охраны труда во время работы', 
      'Требования охраны труда в аварийных ситуациях', 
      'Требования охраны труда по окончании работы'
    ]
  },
  {
    id: 'instruction_office',
    name: 'Инструкция по охране труда для офисных работников',
    description: 'Специализированная инструкция для сотрудников, работающих в офисных помещениях',
    category: 'instruction',
    fields: [
      {
        id: 'company_name',
        label: 'Наименование организации',
        type: 'text',
        required: true,
        placeholder: 'ООО "Компания"'
      },
      {
        id: 'director_name',
        label: 'ФИО руководителя',
        type: 'text',
        required: true,
        placeholder: 'Иванов И.И.'
      },
      {
        id: 'director_position',
        label: 'Должность руководителя',
        type: 'text',
        required: true,
        placeholder: 'Генеральный директор'
      },
      {
        id: 'approval_date',
        label: 'Дата утверждения',
        type: 'date',
        required: true
      },
      {
        id: 'instruction_number',
        label: 'Номер инструкции',
        type: 'text',
        required: true,
        placeholder: 'ИОТ-002-2025'
      },
      {
        id: 'general_requirements',
        label: 'Общие требования охраны труда',
        type: 'textarea',
        required: true,
        defaultValue: '1.1. К работе в офисе допускаются лица, прошедшие обучение, инструктаж и проверку знаний по охране труда, не имеющие противопоказаний по состоянию здоровья.\n1.2. Работник офиса обязан соблюдать правила внутреннего трудового распорядка, установленные режимы труда и отдыха.\n1.3. При работе в офисе возможно воздействие следующих опасных и вредных производственных факторов:\n- повышенные уровни электромагнитного излучения;\n- повышенный уровень статического электричества;\n- повышенные уровни запыленности воздуха рабочей зоны;\n- повышенное зрительное напряжение;\n- повышенное нервно-эмоциональное напряжение;\n- повышенный уровень шума;\n- повышенный или пониженный уровень освещенности;\n- повышенная яркость светового изображения;\n- повышенная пульсация светового потока.'
      },
      {
        id: 'computer_work_requirements',
        label: 'Требования охраны труда во время работы за компьютером',
        type: 'textarea',
        required: true,
        defaultValue: '3.1. Работник офиса обязан выполнять только ту работу, которая ему поручена и по которой он проинструктирован по охране труда.\n3.2. При работе на персональном компьютере необходимо соблюдать следующие требования:\n- соблюдать оптимальное расстояние от экрана монитора до глаз (60-70 см);\n- соблюдать регламентированные перерывы в работе с компьютером: через каждый час работы делать перерыв на 5-10 минут, во время которого следует выполнять комплекс упражнений для глаз, рук и опорно-двигательного аппарата;\n- не допускать натягивания, скручивания, перегиба и пережима шнуров электропитания оборудования, проводов и кабелей, не допускать нахождения на них каких-либо предметов и соприкосновения их с нагретыми поверхностями.'
      },
      {
        id: 'workplace_requirements',
        label: 'Требования к организации рабочего места',
        type: 'textarea',
        required: true,
        defaultValue: '3.3. Рабочее место должно быть организовано с учетом эргономических требований:\n- рабочий стол должен иметь пространство для ног высотой не менее 600 мм, шириной не менее 500 мм, глубиной на уровне колен не менее 450 мм и на уровне вытянутых ног не менее 650 мм;\n- рабочий стул (кресло) должен быть подъемно-поворотным, регулируемым по высоте и углам наклона сиденья и спинки;\n- экран монитора должен находиться от глаз пользователя на расстоянии 600-700 мм, но не ближе 500 мм;\n- клавиатура должна располагаться на поверхности стола на расстоянии 100-300 мм от края, обращенного к пользователю, или на специальной, регулируемой по высоте рабочей поверхности, отделенной от основной столешницы.'
      }
    ],
    sections: [
      'Общие требования охраны труда', 
      'Требования охраны труда перед началом работы', 
      'Требования охраны труда во время работы за компьютером', 
      'Требования к организации рабочего места', 
      'Требования охраны труда в аварийных ситуациях', 
      'Требования охраны труда по окончании работы'
    ]
  },
  {
    id: 'accident_report',
    name: 'Акт о несчастном случае на производстве (форма Н-1)',
    description: 'Официальная форма акта о несчастном случае на производстве',
    category: 'act',
    fields: [
      {
        id: 'company_name',
        label: 'Наименование организации',
        type: 'text',
        required: true,
        placeholder: 'ООО "Компания"'
      },
      {
        id: 'company_address',
        label: 'Адрес организации',
        type: 'text',
        required: true,
        placeholder: 'г. Москва, ул. Примерная, д. 1'
      },
      {
        id: 'company_activity',
        label: 'Вид экономической деятельности',
        type: 'text',
        required: true,
        placeholder: 'Производство / Строительство / Торговля'
      },
      {
        id: 'victim_fullname',
        label: 'ФИО пострадавшего',
        type: 'text',
        required: true,
        placeholder: 'Иванов Иван Иванович'
      },
      {
        id: 'victim_gender',
        label: 'Пол пострадавшего',
        type: 'select',
        required: true,
        options: ['Мужской', 'Женский']
      },
      {
        id: 'victim_birthdate',
        label: 'Дата рождения пострадавшего',
        type: 'date',
        required: true
      },
      {
        id: 'victim_position',
        label: 'Профессия (должность) пострадавшего',
        type: 'text',
        required: true,
        placeholder: 'Слесарь / Менеджер / Водитель'
      },
      {
        id: 'victim_experience',
        label: 'Стаж работы, при выполнении которой произошел несчастный случай',
        type: 'text',
        required: true,
        placeholder: '5 лет 3 месяца'
      },
      {
        id: 'accident_date',
        label: 'Дата и время несчастного случая',
        type: 'date',
        required: true
      },
      {
        id: 'accident_location',
        label: 'Место несчастного случая',
        type: 'text',
        required: true,
        placeholder: 'Цех №2 / Офисное помещение / Строительная площадка'
      },
      {
        id: 'accident_description',
        label: 'Обстоятельства несчастного случая',
        type: 'textarea',
        required: true,
        placeholder: 'Подробное описание обстоятельств несчастного случая, включая действия пострадавшего и других лиц, связанных с несчастным случаем'
      },
      {
        id: 'injury_type',
        label: 'Характер полученных повреждений',
        type: 'text',
        required: true,
        placeholder: 'Перелом / Ушиб / Ожог'
      },
      {
        id: 'accident_cause',
        label: 'Причины несчастного случая',
        type: 'textarea',
        required: true,
        placeholder: 'Указать основные причины несчастного случая (технические, организационные, личностные и т.д.)'
      },
      {
        id: 'responsible_persons',
        label: 'Лица, допустившие нарушение требований охраны труда',
        type: 'textarea',
        required: false,
        placeholder: 'ФИО, должность, статьи нарушенных нормативных актов'
      },
      {
        id: 'prevention_measures',
        label: 'Мероприятия по устранению причин несчастного случая',
        type: 'textarea',
        required: true,
        placeholder: 'Перечислить конкретные мероприятия с указанием сроков исполнения и ответственных лиц'
      }
    ],
    sections: [
      'Сведения о пострадавшем', 
      'Сведения о работодателе', 
      'Сведения о проведении инструктажей', 
      'Обстоятельства несчастного случая', 
      'Причины несчастного случая', 
      'Лица, допустившие нарушение требований охраны труда', 
      'Мероприятия по устранению причин несчастного случая'
    ]
  },
  {
    id: 'training_journal',
    name: 'Журнал регистрации инструктажа на рабочем месте',
    description: 'Журнал для учета проведения инструктажей по охране труда на рабочем месте',
    category: 'journal',
    fields: [
      {
        id: 'company_name',
        label: 'Наименование организации',
        type: 'text',
        required: true,
        placeholder: 'ООО "Компания"'
      },
      {
        id: 'department',
        label: 'Структурное подразделение',
        type: 'text',
        required: true,
        placeholder: 'Производственный отдел / Бухгалтерия / IT-отдел'
      },
      {
        id: 'start_date',
        label: 'Дата начала ведения журнала',
        type: 'date',
        required: true
      },
      {
        id: 'responsible_person',
        label: 'Ответственное лицо за проведение инструктажа',
        type: 'text',
        required: true,
        placeholder: 'Иванов И.И., начальник отдела'
      },
      {
        id: 'journal_entries',
        label: 'Записи журнала',
        type: 'textarea',
        required: false,
        placeholder: 'Дата | ФИО инструктируемого | Профессия | Вид инструктажа | Причина проведения | ФИО инструктирующего | Подпись инструктирующего | Подпись инструктируемого'
      }
    ],
    sections: [
      'Титульный лист', 
      'Таблица учета с графами: дата, ФИО инструктируемого, профессия, вид инструктажа, причина проведения, ФИО инструктирующего, подписи'
    ]
  },
  {
    id: 'risk_assessment_card',
    name: 'Карта оценки профессиональных рисков',
    description: 'Документ для оценки и управления профессиональными рисками на рабочем месте',
    category: 'report',
    fields: [
      {
        id: 'company_name',
        label: 'Наименование организации',
        type: 'text',
        required: true,
        placeholder: 'ООО "Компания"'
      },
      {
        id: 'department',
        label: 'Структурное подразделение',
        type: 'text',
        required: true,
        placeholder: 'Производственный отдел / Бухгалтерия / IT-отдел'
      },
      {
        id: 'workplace_name',
        label: 'Наименование рабочего места',
        type: 'text',
        required: true,
        placeholder: 'Рабочее место слесаря / Рабочее место бухгалтера'
      },
      {
        id: 'assessment_date',
        label: 'Дата проведения оценки',
        type: 'date',
        required: true
      },
      {
        id: 'identified_hazards',
        label: 'Идентифицированные опасности',
        type: 'textarea',
        required: true,
        placeholder: 'Перечислить все идентифицированные опасности на рабочем месте'
      },
      {
        id: 'risk_levels',
        label: 'Оценка уровня риска',
        type: 'textarea',
        required: true,
        placeholder: 'Для каждой опасности указать вероятность, тяжесть последствий и уровень риска'
      },
      {
        id: 'control_measures',
        label: 'Меры управления рисками',
        type: 'textarea',
        required: true,
        placeholder: 'Перечислить существующие и планируемые меры по управлению рисками'
      },
      {
        id: 'responsible_persons',
        label: 'Ответственные лица',
        type: 'text',
        required: true,
        placeholder: 'ФИО и должности ответственных за выполнен<response clipped><NOTE>To save on context only part of this file has been shown to you. You should retry this tool after you have searched inside the file with `grep -n` in order to find the line numbers of what you are looking for.</NOTE>